---
- name: Install xorg
  sudo: yes
  pacman: name={{ item }} state=present
  with_items:
    - mesa
    - redshift
    - xorg-server
    - xorg-server-utils
    - xorg-server-xephyr
    - xorg-xev
    - xorg-xinit
    - xorg-xkill
    - xorg-xmodmap
    - xorg-xprop
    - xorg-xrandr
    - xorg-xrdb
    - xorg-xset

- name: Install windows manager
  sudo: yes
  pacman: name={{ item }} state=present
  with_items:
    #- slock
    - archlinux-xdg-menu
    - awesome
    - i3lock
    - slim
    - udisks
    - vicious
    - wmname
    - xautolock
    - xclip
    - xscreensaver
    - xterm

- name: Enable slim
  sudo: yes
  service: name=slim state=started enabled=yes

- name: Set up terminal fonts
  sudo: yes
  pacman: name={{ item }}
  with_items:
    - terminus-font
    - ttf-inconsolata
    - ttf-droid

- name: Install X apps
  sudo: yes
  pacman: name={{ item }} state=present
  with_items:
    #- seahorse
    - alsa-utils
    - dmenu
    - feh
    - file-roller
    - firefox
    - flashplayer
    - gedit
    - ghostscript
    - gparted
    - gvfs
    - imagemagick
    - libnotify
    - lilyterm
    - meld
    - pcmanfm
    - pidgin
    - qmmp
    - qt4
    - rxvt-unicode
    - shotwell
    - vlc
    #- wicd-gtk
    # Add multilib repo
    - wmctrl
    - xfce4-notifyd
    - zathura
    - zathura-pdf-poppler
    #- zathura-pdf-mupdf

- name: Copy .xinitrc
  copy: src=files/.xinitrc dest=~{{ username }}/.xinitrc

- name: Install urxvt Perl extensions
#  sudo: yes
#  sudo_user: makepkg
  yaourt: name={{ item }}
  with_items:
    - autokey-py3
    - kbdd
    - keepassx-git
    - mkvtoolnix
    - obs-studio-git
    - telegram-purple-git
    - unagi
    - urxvt-perls
    - virt-manager
    - wine
    - xarchiver
    - xiphos

- name: Install Google Chrome
  yaourt: name=google-chrome

- name: Install Hangouts video plugin
  yaourt: name=google-talkplugin

- name: Install NVIDIA drivers
  yaourt: name=nvidia

# intel graphics
# $ pacman -S xf86-video-intel libva-intel-driver
#
# # laptop touchpad
# $ pacman -S xf86-input-synaptics
